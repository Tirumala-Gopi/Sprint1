package Package1;

import java.util.ArrayList;

public class RentalController {
	
	private ArrayList<Customer>customers;
	private ArrayList<Vehicle>vehicles;
	private ArrayList<RentalRecord>rentals;
	public RentalController() {
		super();
		this.customers = new ArrayList<>();
		this.vehicles = new ArrayList<>();
		this.rentals = new ArrayList<>();
	}
	public ArrayList<Customer> getCustomers() {
		return customers;
	}
	public void setCustomers(ArrayList<Customer> customers) {
		this.customers = customers;
	}
	public ArrayList<Vehicle> getVehicles() {
		return vehicles;
	}
	public void setVehicles(ArrayList<Vehicle> vehicles) {
		this.vehicles = vehicles;
	}
	public ArrayList<RentalRecord> getRentals() {
		return rentals;
	}
	public void setRentals(ArrayList<RentalRecord> rentals) {
		this.rentals = rentals;
	}
	@Override
	public String toString() {
		return "RentalController [customers=" + customers + ", vehicles=" + vehicles + ", rentals=" + rentals + "]";
	}
	
	public Customer createCustomer(String name,String licenseNumber,String type)
	{
		if(type=="individual")
		{
			IndividualCustomer newCustomer=new IndividualCustomer(name,licenseNumber);
			customers.add(newCustomer);
			return newCustomer;
		}
		if (type=="corporate")
		{
			CorporateCustomer newCustomer=new CorporateCustomer(name,licenseNumber);
			customers.add(newCustomer);
			return newCustomer;
		}
	return null;	
	}
	
	public Car createVehicle(String type,String make,String model,double rate,int seats,boolean automatic)
	{
		if(type=="car")
		{
			Car newCar=new Car(model,rate,seats,automatic);
			vehicles.add(newCar);
		
			return newCar;
		}
		return null;
		
	}
	
	public Truck createVehicle(String type,String make,String model,double rate,double cargoCapacity)
	{
		if(type=="truck")
		{
			Truck newTruck=new Truck(model,rate,cargoCapacity);
			vehicles.add(newTruck);
		
		return newTruck;
		}
		return null;
		
	}
	
	public void rentVehicle(Customer c,Vehicle v,int days,int rentalId)
	{
		v.setAvailable(true);
		RentalRecord newRR=new RentalRecord(rentalId,c,v,days);
		rentals.add(newRR);
		v.setAvailable(false);
		
		c.addVehicle(v);
	
	}
	public void returnVehicle(Customer c,Vehicle v)
	{
		
		for(int i=0;i<rentals.size();i++)
			
		{
			if(c==rentals.get(i).getCustomer()&&v==rentals.get(i).getVehicle())
			{
			
				c.calculateTotal(rentals.get(i).getDays(), v.getDailyRate());
			v.returnVehicle();
			v.setAvailable(true);
			c.removeVehicle(v);
		}
		
	}
}
	
	
	public void removeCustomer(Customer c)
	{
		
		for(int i=0;i<rentals.size();i++)
		{
			
			if(c==rentals.get(i).getCustomer())
			{
				rentals.remove(i);
			}
		}
		customers.remove(c);
	}
}
