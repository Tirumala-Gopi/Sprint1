package Library_and_Member_ManagementSystem;

import java.util.ArrayList;

public class LibraryController {
	private ArrayList<Member>members;
	private ArrayList<Book>books;
	public LibraryController() {
		super();
		this.members = new ArrayList<>();
		this.books = new ArrayList<>();
	}
	@Override
	public String toString() {
		return "LibraryController [members=" + members + ", books=" + books + "]";
	}
	public ArrayList<Member> getMembers() {
		return members;
	}
	public void setMembers(ArrayList<Member> members) {
		this.members = members;
	}
	public ArrayList<Book> getBooks() {
		return books;
	}
	public void setBooks(ArrayList<Book> books) {
		this.books = books;
	}
	
	public Member createMember(String name,String email,String type)
	{
		if(type=="Student")
		{
			Student newStudent=new Student(name,email);
			members.add(newStudent);
			return newStudent;
		}
		else if(type=="Faculty")
		{
			Faculty newFaculty=new Faculty(name,email);
			members.add(newFaculty);
			return newFaculty;
		}
		return null;
	}
	
	public void removeMember(Member m)
	{
		
		ArrayList<Book> books=m.getBorrowedBooks();
		for(int i=0;i<m.getBorrowedBooks().size();i++) {
			books.get(i).setBorrowed(false);
			
			
		}
		members.remove(m);
	}
	
	public Book createBook(String type,String title,String author)
	{
		if (type=="eBook")
		{
			System.out.println("ebook");
			EBook newBook=new EBook(title,author);
			books.add(newBook);
			return newBook;
		}
		else if(type=="printedBook")
		{
			PrintedBook newBook=new PrintedBook(title,author);
			books.add(newBook);
			return newBook;
		}
		return null;
		
	}
	public PrintedBook createBook(String type,String title,String author,int pages)
	{
		if(type=="printedBook")
		{
			PrintedBook newBook=new PrintedBook(title,author);
			books.add(newBook);
			return newBook;
		}
		return null;
		
	}
	
	
	public void lendBook(Member m,Book b)
	{
		m.addBook(b);
		b.borrow();
	}
	public void returnBook(Member m,Book b)
	{
		m.removeBook(b);
		b.returnBook();
	}
	
	public void chargePenaltyAll(double amount)
	{
		for(int i=0;i<members.size();i++)
		{
			members.get(i).chargePenalty(amount);
		}
	}

}
